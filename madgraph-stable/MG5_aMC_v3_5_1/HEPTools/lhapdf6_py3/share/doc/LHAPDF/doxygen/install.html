<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LHAPDF: Installation instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LHAPDF
   &#160;<span id="projectnumber">6.5.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Installation instructions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#install_downloads">Source file downloads</a></li>
<li class="level1"><a href="#install_quickstart">Quick start instructions</a></li>
<li class="level1"><a href="#install_paths">Run-time search paths</a></li>
<li class="level1"><a href="#install_compilers">Build tools</a><ul><li class="level2"><a href="#install_pyext">Python</a></li>
</ul>
</li>
<li class="level1"><a href="#install_lhapdf">Building LHAPDF</a><ul><li class="level2"><a href="#install_altcomp">Alternative compilers</a></li>
</ul>
</li>
<li class="level1"><a href="#install_osx">Building on Mac OS X</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="install_downloads"></a>
Source file downloads</h1>
<p>The source files can be downloaded from <a href="https://lhapdf.hepforge.org/downloads/">https://lhapdf.hepforge.org/downloads/</a></p>
<h1><a class="anchor" id="install_quickstart"></a>
Quick start instructions</h1>
<p>If you have a C++11 compiler, building <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> &gt;= 6.2 should be straightforward: </p><pre class="fragment">wget https://lhapdf.hepforge.org/downloads/?f=LHAPDF-6.X.Y.tar.gz -O LHAPDF-6.X.Y.tar.gz
# ^ or use a web browser to download, which will get the filename correct
tar xf LHAPDF-6.X.Y.tar.gz
cd LHAPDF-6.X.Y
./configure --prefix=/path/for/installation
make
make install
</pre><p> You will then need to install PDF data files, most easily using the "lhapdf" manager script but also possible by manual download. See the <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> website for details.</p>
<p>On systems where you want to use non-system compilers and libraries, the configure command will need to be a bit more complicated: see the following for more information.</p>
<p>Version 6.2.0 of <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a>, and later, have no external library dependencies. Earlier versions rely on the Boost C++ header library. We recommend upgrading to the current series to avoid that complication (and benefit from other improvements, too).</p>
<p>At run-time you may need to set some environment variable: see the next section for details.</p>
<h1><a class="anchor" id="install_paths"></a>
Run-time search paths</h1>
<p>If you aren't installing <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> into a standard, system-wide location, you will probably need to set some environment variables for it to work at runtime (and perhaps even during the installation).</p>
<p><a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a>'s primary installation mode is as a shared library, <code>libLHAPDF.so</code> (or <code>libLHAPDF.dylib</code> on Macs). This minimises code duplication and application rebuilds by being the single source of compiled code on your system &ndash; executables just refer to <code>libLHAPDF</code>'s code symbols at runtime rather than having to "statically" copy them into their own code. (If you <em>really</em> want static linking, make sure to provide the <code>-static</code> flag when linking your application, of point it explicitly at <code>libLHAPDF.a</code>.) Shared libraries need to be locateable at runtime, though, which means that you need to either place them in a standard "system" location, or set an environment variable to add your own custom install paths (usually <code>lib/</code> or <code>lib64/</code> within your installation tree) to the library-search mechanism. The environment variable for shared-library searching is <code>LD_LIBRARY_PATH</code> on Linux systems, and <code>DYLD_LIBRARY_PATH</code> on Macs (and FreeBSD).</p>
<p>The same logic applies also to <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a>'s own executables, which should live in the <code>bin/</code> directory within your installation tree, and its Python package which typically lives in <code>lib/pythonX.Y/site-packages</code>. The relevant environment variables are respectively <code>PATH</code> and <code>PYTHONPATH</code> for these searches. You may need to set at least the Python search path <em>before</em> installation, since this is under control of Python's own installer mechanism, which can be quite zealous.</p>
<p>A sample environment variable setup, placing a new <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> custom installation under <code>/foo/lhapdf</code>, to be searched <em>after</em> other custom locations, is </p><pre class="fragment">export PATH=$PATH:/foo/lhapdf/bin
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/foo/lhapdf/lib
export PYTHONPATH=$PYTHONPATH:/foo/lhapdf/lib/python3.9/site-packages
</pre><h1><a class="anchor" id="install_compilers"></a>
Build tools</h1>
<p>LHAPDF6 just needs your system to have a copy of Make and a C++11 compiler: there is no Fortran code and hence no need for gfortran. We have tested with both the g++ and clang++ compilers.</p>
<p>Note that fairly recent compiler versions are needed, to get C++11 support: g++ &gt;= 4.8.5 and clang++ &gt;= 3.3. The <code>-std=c++11</code> flag, if needed, will be added automatically by the <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> configure script.</p>
<p>Building <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> is typically straightforward on Linux systems, including CC7 and Ubuntu. Mac OS X, however, can cause problems due to inconsistent compiler and Python versions, and other such fun. If you want to build <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> on a Mac, please see osx.</p>
<h2><a class="anchor" id="install_pyext"></a>
Python</h2>
<p>If you want to build the Python interface to <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> (which is very nice!), you will need the Python development headers to be installed (e.g. via the <code>python-dev</code> Ubuntu package). If the <code>Python.h</code> header is not found by <code>configure</code>, no Python extension module will be built.</p>
<p>You may also need to make sure that the <code>PYTHONPATH</code> environment variable (see above) is set to include your module-installation directory <em>before</em> installing, if it isn't a system-wide path: Python is sometimes configured to refuse to install to locations not already in the Python search path.</p>
<h1><a class="anchor" id="install_lhapdf"></a>
Building LHAPDF</h1>
<p>If you have downloaded a release tarball for <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> 6.X.Y, unpack it with <code>tar xf LHAPDF-6.X.Y.tar.gz</code>, then <code>cd</code> to the newly-created directory.</p>
<dl class="section note"><dt>Note</dt><dd>If checking out from version control rather than unpacking a tarball, again <code>cd</code> to the new directory, but you must then also run <code>autoreconf -i</code> before proceeding to the instructions below. There will also be more requirements for external packages if you build this way, since this is the "developer" route to building <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> and requires a bit more expertise.</dd></dl>
<p>Now you should run the <code>configure</code> script to analyse your machine, compiler, etc. and set up the Makefiles. You will probably need to provide the <code>--prefix</code> argument to <code>configure</code> to tell it where you want to install <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> (probably you don't want to install to <code>/usr/local</code>, which is the default). For example, </p><pre class="fragment">./configure --prefix=$HOME/local
</pre><h2><a class="anchor" id="install_altcomp"></a>
Alternative compilers</h2>
<p>If you want to use an alternative C++ compiler, then you can specify the CXX variable on the command line. This is essential on OS X Mavericks and later, where the consistent compiler suite is clang rather than gcc &ndash; in that situation, use: </p><pre class="fragment">./configure --prefix=... CXX=clang++
</pre><p> The configure script will run and produce quite a bit of output from its various tests. Hopefully everything will be successful: if it gets to the end without stopping due to an error then all is well.</p>
<p>Then just call <code>make</code> to build the library (or e.g. <code>make -j4</code> to compile 4 files in parallel &ndash; if your machine has enough processor cores to do so, even <code>-j2</code> will speed up the build quite a bit). To install <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> to the <code>--prefix</code> location that you specified, call <code>make install</code>. You will (or at least should(!) find installed files in <code>$prefix/lib</code>, <code>$prefix/include/LHAPDF</code>, and <code>$prefix/share/LHAPDF</code>.</p>
<h1><a class="anchor" id="install_osx"></a>
Building on Mac OS X</h1>
<p>Builds are typically straightforward on Linux, but Mac OS X unfortunately has a long history of incoherent system compiler setups, which have been worked around manually by users' private installations of Fink, MacPorts, HomeBrew and manual tarball installations of required tools. These work-arounds can themselves be the source of problems when the native compilers or Python libraries get updated, and due to the ad hoc nature of such installations we are restricted in how much we can help to get <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> to compile on a broken system: it is the user's responsibility to make sure that their machine has a consistent set of build tools!</p>
<p>From experience, the simplest reliable route seems to be to run a fresh copy of OS X 10.9 Mavericks (or later) without any additional manual compiler installations: if you use the clang++ compiler on such a system, LHAPDF6 building should "just work".</p>
<dl class="section note"><dt>Note</dt><dd>At the time of writing there is a bug in the Mac Python version which requires that you call <code>export CPPFLAGS=-Qunused-arguments</code> and <code>export CFLAGS=-Qunused-arguments</code> before building. Alternatively you can run the configure script with <code>--disable-python</code>, which avoids the bug at the cost of not building the very useful Python interface to <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a>.</dd></dl>
<p>The Mac OS X "Homebrew" system (<a href="http://brew.sh/">http://brew.sh/</a>) comes recommended by several <a class="el" href="namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes.">LHAPDF</a> developers. Many HEP packages are already available for Homebrew via the homebrew-hep project: <a href="http://davidchall.github.io/homebrew-hep/">http://davidchall.github.io/homebrew-hep/</a> . Success has also been reported with the MacPorts system (<a href="http://www.macports.org/">http://www.macports.org/</a>). With both these approaches, you should set your environment to <em>only</em> use compilers and Python from the Brew/Ports area and to ignore the system packages: a hybrid approach will only cause unnecessary pain. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 30 2025 10:10:57 for LHAPDF by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
